@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap');
@import url("https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Nook Design System
   Day: Warm Earth Café — quiet café corner
   Dark: Midnight Soft — calm evening conversation
*/

@layer base {
  :root {
    /* ── Warm Earth Café (Light) ───────────────── */
    --background: 38 28% 91%;
    --foreground: 20 15% 18%;

    --card: 40 45% 97%;
    --card-foreground: 20 15% 18%;

    --popover: 40 45% 97%;
    --popover-foreground: 20 15% 18%;

    /* Terracotta primary */
    --primary: 16 52% 52%;
    --primary-foreground: 40 50% 98%;

    /* Warm linen secondary */
    --secondary: 36 22% 86%;
    --secondary-foreground: 20 15% 28%;

    /* Muted warm grey */
    --muted: 36 18% 88%;
    --muted-foreground: 20 12% 44%;

    /* Sage green accent */
    --accent: 132 16% 55%;
    --accent-foreground: 20 15% 18%;

    --destructive: 0 60% 44%;
    --destructive-foreground: 0 0% 100%;

    --success: 150 34% 40%;
    --success-foreground: 0 0% 100%;

    --warning: 38 82% 48%;
    --warning-foreground: 0 0% 10%;

    --pending: 16 52% 52%;
    --pending-foreground: 40 50% 98%;

    --border: 30 18% 82%;
    --input: 30 18% 85%;
    --ring: 16 52% 52%;

    --radius: 1.1rem;

    /* Sidebar */
    --sidebar-background: 38 28% 89%;
    --sidebar-foreground: 20 15% 18%;
    --sidebar-primary: 16 52% 52%;
    --sidebar-primary-foreground: 40 50% 98%;
    --sidebar-accent: 36 22% 86%;
    --sidebar-accent-foreground: 20 15% 18%;
    --sidebar-border: 30 18% 82%;
    --sidebar-ring: 16 52% 52%;

    /* Charts */
    --chart-1: 16 52% 52%;
    --chart-2: 132 16% 55%;
    --chart-3: 38 82% 48%;
    --chart-4: 200 48% 44%;
    --chart-5: 340 44% 54%;

    /* Fonts */
    --font-sans: 'DM Sans', ui-sans-serif, system-ui, -apple-system, sans-serif;
    --font-serif: 'Lora', ui-serif, Georgia, serif;
    --font-mono: 'Space Mono', ui-monospace, monospace;

    /* Shadows — warm-tinted */
    --shadow-2xs: 0 1px 2px 0 hsl(20 20% 50% / 0.05);
    --shadow-xs:  0 1px 4px 0 hsl(20 20% 50% / 0.07);
    --shadow-sm:  0 2px 8px 0 hsl(20 20% 50% / 0.08);
    --shadow:     0 4px 14px 0 hsl(20 20% 50% / 0.09);
    --shadow-md:  0 6px 20px 0 hsl(20 20% 50% / 0.10);
    --shadow-lg:  0 10px 28px 0 hsl(20 20% 50% / 0.12);
    --shadow-xl:  0 18px 40px 0 hsl(20 20% 50% / 0.14);
    --shadow-2xl: 0 28px 56px 0 hsl(20 20% 50% / 0.16);

    /* Card elevation */
    --card-shadow: 0 2px 12px 0 hsl(20 20% 50% / 0.08), 0 1px 3px 0 hsl(20 20% 50% / 0.05);
    --card-shadow-hover: 0 6px 24px 0 hsl(20 20% 50% / 0.12), 0 2px 6px 0 hsl(20 20% 50% / 0.07);

    --tracking-normal: 0em;
    --spacing: 0.25rem;

    /* Women-only mode — light */
    --women-card-bg: 340 55% 97%;
    --women-card-border: 340 38% 83%;
    --women-badge-bg: 340 48% 94%;
    --women-badge-border: 340 33% 79%;
    --women-badge-text: 340 44% 44%;
    --women-accent: 340 44% 54%;
    --women-glow: 340 38% 80%;
  }

  .dark {
    /* ── Midnight Soft (Dark) ──────────────────── */
    --background: 220 12% 8%;
    --foreground: 36 15% 91%;

    --card: 220 12% 13%;
    --card-foreground: 36 15% 91%;

    --popover: 220 12% 13%;
    --popover-foreground: 36 15% 91%;

    /* Warm amber primary */
    --primary: 33 100% 68%;
    --primary-foreground: 220 12% 8%;

    --secondary: 220 10% 18%;
    --secondary-foreground: 36 15% 80%;

    --muted: 220 10% 18%;
    --muted-foreground: 220 8% 62%;

    /* Muted sky accent */
    --accent: 210 45% 62%;
    --accent-foreground: 36 15% 91%;

    --destructive: 0 52% 44%;
    --destructive-foreground: 0 0% 100%;

    --success: 150 34% 40%;
    --success-foreground: 0 0% 100%;

    --warning: 38 82% 48%;
    --warning-foreground: 0 0% 10%;

    --pending: 33 100% 68%;
    --pending-foreground: 220 12% 8%;

    --border: 220 10% 20%;
    --input: 220 10% 20%;
    --ring: 33 100% 68%;

    --radius: 1.1rem;

    /* Sidebar */
    --sidebar-background: 220 12% 10%;
    --sidebar-foreground: 36 15% 91%;
    --sidebar-primary: 33 100% 68%;
    --sidebar-primary-foreground: 220 12% 8%;
    --sidebar-accent: 220 10% 18%;
    --sidebar-accent-foreground: 36 15% 80%;
    --sidebar-border: 220 10% 20%;
    --sidebar-ring: 33 100% 68%;

    /* Charts */
    --chart-1: 33 100% 68%;
    --chart-2: 210 45% 62%;
    --chart-3: 38 82% 48%;
    --chart-4: 280 44% 62%;
    --chart-5: 340 44% 55%;

    /* Shadows — deep */
    --shadow-2xs: 0 1px 2px 0 hsl(0 0% 0% / 0.20);
    --shadow-xs:  0 1px 4px 0 hsl(0 0% 0% / 0.25);
    --shadow-sm:  0 2px 8px 0 hsl(0 0% 0% / 0.30);
    --shadow:     0 4px 14px 0 hsl(0 0% 0% / 0.30);
    --shadow-md:  0 6px 20px 0 hsl(0 0% 0% / 0.32);
    --shadow-lg:  0 10px 28px 0 hsl(0 0% 0% / 0.38);
    --shadow-xl:  0 18px 40px 0 hsl(0 0% 0% / 0.44);
    --shadow-2xl: 0 28px 56px 0 hsl(0 0% 0% / 0.50);

    /* Card elevation */
    --card-shadow: 0 2px 12px 0 hsl(0 0% 0% / 0.24), 0 1px 3px 0 hsl(0 0% 0% / 0.18);
    --card-shadow-hover: 0 6px 24px 0 hsl(0 0% 0% / 0.36), 0 2px 6px 0 hsl(0 0% 0% / 0.24);

    /* Women-only mode — dark */
    --women-card-bg: 270 14% 15%;
    --women-card-border: 280 18% 28%;
    --women-badge-bg: 270 18% 22%;
    --women-badge-border: 280 16% 36%;
    --women-badge-text: 280 48% 76%;
    --women-accent: 280 44% 66%;
    --women-glow: 280 28% 38%;
  }
}

@layer base {
  * {
    @apply border-border;
    box-sizing: border-box;
  }

  html {
    font-family: 'DM Sans', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
  }

  body {
    @apply bg-background text-foreground;
    min-height: 100vh;
    min-height: 100dvh;
    transition: background-color 0.35s ease, color 0.35s ease;
    overflow-x: hidden;
  }

  #root {
    height: 100dvh;
    overflow: hidden;
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    display: flex;
    flex-direction: column;
    max-width: 100%;
  }

  /* Safe area utility classes */
  .safe-area-top    { padding-top: env(safe-area-inset-top); }
  .safe-area-bottom { padding-bottom: env(safe-area-inset-bottom); }

  /* Serif headings — always wrap */
  h1, h2, h3 {
    font-family: 'Lora', ui-serif, Georgia, serif;
    letter-spacing: 0.01em;
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  /* Body copy wraps */
  p, label, li {
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  /* Custom select / input polish */
  select {
    -webkit-appearance: none;
    appearance: none;
  }

  input[type="checkbox"] {
    border-radius: 6px;
  }

  /* Inputs always contained */
  input:not([type="checkbox"]):not([type="radio"]), textarea {
    max-width: 100%;
  }
}


@layer utilities {
  /* ── Layout ─────────────────────────────── */
  .nook-container {
    @apply max-w-md mx-auto px-5;
  }

  /* ── Cards ───────────────────────────────── */
  .nook-card {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    border-radius: calc(var(--radius) + 2px);
    box-shadow: var(--card-shadow);
  }

  .nook-card-hover {
    @apply nook-card;
    transition: box-shadow 0.22s ease, border-color 0.22s ease, transform 0.18s ease;
  }

  .nook-card-hover:hover {
    box-shadow: var(--card-shadow-hover);
    border-color: hsl(var(--primary) / 0.22);
    transform: translateY(-1px);
  }

  /* ── Section styles ────────────────────── */
  .nook-section {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    border-radius: calc(var(--radius) + 2px);
    box-shadow: var(--card-shadow);
    padding: 1.25rem;
  }

  .nook-section-title {
    @apply font-semibold text-foreground text-sm mb-3;
    font-family: 'Lora', ui-serif, Georgia, serif;
    letter-spacing: 0.02em;
  }

  /* ── Status badges ───────────────────── */
  .status-pending {
    @apply bg-pending/12 text-pending border-pending/25;
  }

  .status-confirmed {
    @apply bg-success/12 text-success border-success/25;
  }

  .status-cancelled {
    @apply bg-destructive/12 text-destructive border-destructive/25;
  }

  /* ── Animations ──────────────────────── */
  .animate-fade-in {
    animation: fadeIn 0.32s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.22s ease-out;
  }

  /* ── Interactive feel ───────────────── */
  .nook-btn-press {
    @apply active:scale-[0.97] transition-transform duration-100;
  }

  /* ── Empty state ─────────────────────── */
  .nook-empty {
    @apply text-center py-8 px-5 rounded-2xl;
    background: hsl(var(--secondary) / 0.45);
  }

  /* ── Filter chips ────────────────────── */
  .nook-chip {
    @apply inline-flex items-center gap-1.5 px-3.5 py-1.5 rounded-full text-sm font-medium transition-all duration-200 cursor-pointer select-none border;
  }

  .nook-chip-active {
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    border-color: hsl(var(--primary));
  }

  .nook-chip-inactive {
    background: hsl(var(--secondary) / 0.5);
    color: hsl(var(--muted-foreground));
    border-color: hsl(var(--border));
  }

  .nook-chip-inactive:hover {
    background: hsl(var(--secondary));
    color: hsl(var(--foreground));
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes scaleIn {
    from { opacity: 0; transform: scale(0.96); }
    to   { opacity: 1; transform: scale(1); }
  }

  @keyframes toast-progress {
    from { transform: scaleX(1); }
    to   { transform: scaleX(0); }
  }

  @keyframes slide-up-fade {
    from { opacity: 0; transform: translateY(12px) scale(0.97); }
    to   { opacity: 1; transform: translateY(0) scale(1); }
  }

  .animate-slide-up-fade {
    animation: slide-up-fade 0.28s ease-out forwards;
  }
}
